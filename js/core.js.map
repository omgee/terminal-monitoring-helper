{
  "version": 3,
  "file": "core.js",
  "sourceRoot": "",
  "sources": [
    "core.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "class App\r\n\r\n  @ticketEdit: document.querySelector '#ticketEdit'\r\n  @ticketDone: document.querySelector '#ticketDone'\r\n  @copyButton: document.querySelector '#copyButton'\r\n  @clearButton: document.querySelector '#clearButton'\r\n  @autoStatus: document.querySelector '#autoStatus'\r\n  @manualStatus: document.querySelector '#manualStatus'\r\n\r\n  @ownerStatus: document.querySelector '#ownerStatus'\r\n  @owners: [\r\n    '9887450:925507298',\r\n    '509:926430029',\r\n    '1015:919595355',\r\n    '8895258:892611946',\r\n    '9888525:796368308',\r\n    '15121068:915030500',\r\n    '9888554:792544764',\r\n    '15121084:573661632',\r\n    '9872925:181336918',\r\n    '15121072:915030500',\r\n    '351:928801300',\r\n    '147:849570026',\r\n    '354:892505114',\r\n    '87654795:928504940',\r\n    '9459029:926276229',\r\n    '9888249:890916064',\r\n    '8895253:892611946',\r\n    '452:910437342',\r\n    '15121201:964789427',\r\n    '452:910437342',\r\n    '77:928504940',\r\n    '15121045:966329325',\r\n    '10089282:150848884',\r\n    '15121024:100702930',\r\n    '8895287:271376705',\r\n    '87654843:919633535',\r\n    '87654910:926952111',\r\n    '87654939:163218918',\r\n    '15121172:915006831',\r\n    '304;:953253832',\r\n    '8895078:913775145',\r\n    '15121231:899903293',\r\n    '10087073:100702364',\r\n    '10087073:915714667',\r\n    '15121078:915030500',\r\n    '10085029:100704892',\r\n    '8895075:403979848',\r\n    '336;:967937981',\r\n    '10085023:100702363',\r\n    '395:985142160',\r\n    '10087073:790560951',\r\n    '9888533:850012436',\r\n    '304:953253832',\r\n    '395:985142160',\r\n    '8895112:925657555',\r\n    '9459039:926666385',\r\n    '491:926430029',\r\n    '483:912032537',\r\n    '304:953253832',\r\n    '87654399:962646164',\r\n    '185:962646164',\r\n    '87654491:977329585',\r\n    '8895121:977312180',\r\n    '87654326:928504940',\r\n    '327:928504940',\r\n    '8895006:929972377',\r\n    '327:928504940',\r\n    '488:926430029',\r\n    '9888004:862203011',\r\n    '9888004:862203011',\r\n    '9888004:918433037',\r\n    '178:925009899',\r\n    '87654874:928504940',\r\n    '385:965579192',\r\n    '15121211:964789427',\r\n    '9872999:926119462',\r\n    '15121081:701412252',\r\n    '8895135:898501345',\r\n    '490:926430029',\r\n    '9888269:909160646',\r\n    '10082927:921919757',\r\n    '9888631:881233717',\r\n    '565:100709068',\r\n    '15121357:928504940',\r\n    '305:953253832',\r\n    '399:980343123',\r\n    '15121202:201151698',\r\n    '305:953253832',\r\n    '87654571:924667413',\r\n    '9888521:924265495',\r\n    '15121211:964789427',\r\n    '10089282:904000663',\r\n    '15121063:915177473',\r\n    '9887460:965337627',\r\n    '9887417:892505114',\r\n    '15121058:915030500',\r\n    '327:928504940',\r\n    '9888244:924667413',\r\n    '9888244:924667413',\r\n    '546:278801111',\r\n    '325:928504940',\r\n    '15121218:964520577',\r\n    '15121196:896479427',\r\n    '15121218:964520577',\r\n    '15121058:100711404',\r\n    '9888333:924667413',\r\n    '489:926430029',\r\n    '87654874:928504940',\r\n    '102:912976200',\r\n    '311:938220023',\r\n    '9888549:890609657',\r\n    '87654949:100711679',\r\n    '513:926430029',\r\n    '9888549:890609657',\r\n    '254:100711653',\r\n    '9887417:892505114',\r\n    '495:926430029',\r\n    '88:953253832',\r\n    '9888536:906096574',\r\n    '9714430:926119462',\r\n    '9888549:890609657',\r\n    '87654949:100711675',\r\n    '397:985368971',\r\n    '273:964563102',\r\n    '273:890609657',\r\n    '9888542:926917433',\r\n    '1021:912976200',\r\n    '399:900362827',\r\n    '548:989730900',\r\n    '87654761:920789111',\r\n    '9714430:891643235',\r\n    '493:926430029',\r\n    '441:890916064',\r\n    '353:892505114',\r\n    '290:953253832',\r\n    '327:928504940',\r\n    '107:912976200',\r\n    '399:980343123',\r\n    '9714453:732693843',\r\n    '9887419:965337627',\r\n    '8895223:892894140',\r\n    '459:926430029',\r\n    '343:928801300',\r\n    '87654527:904402867',\r\n    '9459037:929554787',\r\n    '87654958:985142160',\r\n    '448:892867140',\r\n    '8895261:926119462',\r\n    '221:792627198',\r\n    '87654401:962646164',\r\n    '497:926430029',\r\n    '9459029:940762381',\r\n    '9888525:916868439',\r\n    '87654949:100717205',\r\n    '87654889:116783853',\r\n    '497:926430029',\r\n    '87654949:967305704',\r\n    '378:891189661',\r\n    '9459028:205723905',\r\n    '9888526:890609657',\r\n    '325:928504940',\r\n    '87654489:985142160',\r\n    '357726:928250904',\r\n    '87654781:920789111',\r\n    '343:928801300',\r\n    '87654500:985142160',\r\n    '9459020:967131227',\r\n    '220:892601527',\r\n    '41:896342063',\r\n    '41:896478942',\r\n    '170:790948587',\r\n    '8895299:891483786',\r\n    '316:892859930',\r\n    '170:928671407',\r\n    '228:926271983',\r\n    '9714453:796523057',\r\n    '87654493:890577657',\r\n    '225:892601527',\r\n    '8893177:928677177',\r\n    '10084585:909270758',\r\n    '10085023:151912673',\r\n    '87654490:890577655',\r\n    '87654326:928504940',\r\n    '9888526:968094693',\r\n    '223:892601527',\r\n    '15121358:928504940',\r\n    '15121355:220220013',\r\n    '87654489:274306925',\r\n    '8895010:928016359',\r\n    '316:964008800',\r\n    '88 :960225022',\r\n    '87654869:915030500',\r\n    '195:928671407',\r\n    '87654493:890577657',\r\n    '9888542:926917433',\r\n    '9888526:890609657',\r\n    '15121356:928504940',\r\n    '15121356:928504940',\r\n    '87654401:928504940',\r\n    '87654412:928504940',\r\n    '9888269:909160646',\r\n    '87654874:962646164',\r\n    '9887566:921205643',\r\n    '320:962646164',\r\n    '15121320:962646164',\r\n    '327:962646164',\r\n    '325:962646164',\r\n    '15121309:962646164',\r\n    '9459027:962646164',\r\n    '9459053:892855757',\r\n    '352:928801300',\r\n    '9888521:906096574',\r\n    '159:965337627',\r\n    '9887566:921205643',\r\n    '116:925009899',\r\n    '8895598:909160646',\r\n    '87654487:985142160',\r\n    '9888521:906096574',\r\n    '9888542:926917433',\r\n    '87654487:985142160',\r\n    '87654958:985142160',\r\n    '170:928671407',\r\n    '9888521:890609657',\r\n    '220:892601527',\r\n    '8895259:926529723',\r\n    '87654918:212012922',\r\n    '87654493:890577657',\r\n    '8895157:533669006',\r\n    '15121211:964789427',\r\n    '15121361:962646164',\r\n    '9888237:924667413',\r\n    '9887261:348740789',\r\n    '9714460:928505835',\r\n    '9872978:988774080',\r\n    '170:928671407',\r\n    '162:965337627',\r\n    '87654833:489049445',\r\n    '87654400:962646164',\r\n    '9888542:926917433',\r\n    '87654910:915030500',\r\n    '170:928671407',\r\n    '230:926271983',\r\n    '87654401:962646164',\r\n    '230:926271983',\r\n    '8895243:926119462',\r\n    '9888542:965337627',\r\n    '15121358:962646164',\r\n    '9888258:909160646',\r\n    '15121358:962646164',\r\n    '8893543:928542491',\r\n    '15121007:906096574',\r\n    '87654498:985142160',\r\n    '193:921977077',\r\n    '378:911373499',\r\n    '8893177:928677177',\r\n    '154:968903591',\r\n    '87654489:985142160',\r\n    '9888542:926917433',\r\n    '87654493:890577657',\r\n    '9888542:926917433',\r\n    '87654493:905776557',\r\n    '8895006:892805689',\r\n    '9888535:906096574',\r\n    '9888535:906096574',\r\n    '87654781:920789111',\r\n    '325:962646164',\r\n    '9888536:906096574',\r\n    '9887454:965337627',\r\n    '156:968904262',\r\n    '87654552 :985142160',\r\n    '354:925051149',\r\n    '9714417:969809515',\r\n    '110:892505114',\r\n    '15121045:915030500',\r\n    '15121358:100728292',\r\n    '246:862584750',\r\n    '15121133:909160646',\r\n    '597:928801300',\r\n    '580:989730900',\r\n    '9888533:906096574',\r\n    '15121133:909160646',\r\n    '87654491:905776557',\r\n    '87654833:791963353',\r\n    '87654491:905776557',\r\n    '87654833:919633535',\r\n    '87654833:919633535',\r\n    '8895262:977117731',\r\n    '607:152747350',\r\n    '298:953253832',\r\n    '15121211:964789427',\r\n    '101:152759301',\r\n    '9888260:909160646',\r\n    '9887454:965337627',\r\n    '9888549:906096574',\r\n    '87654489:985142160',\r\n    '170:928671407',\r\n    '8895089:289242674',\r\n    '87654491:905776557',\r\n    '9714455:989864125',\r\n    '9714418:916112970',\r\n    '15121358:410017245',\r\n    '9888820:892197707',\r\n    '87654833:919633535',\r\n    '87654489:905718015',\r\n    '612:920193663',\r\n    '164 :916178135',\r\n    '623:920697731',\r\n    '9459020:996967337',\r\n    '87654936:100729433',\r\n    '233:102005745',\r\n    '161:965337627',\r\n    '556:977399826',\r\n    '15121206:964789427',\r\n    '9714430:555510004',\r\n    '15121212:964789427',\r\n    '9888423:906096574',\r\n    '9887452:965337627',\r\n    '9888423:906096574',\r\n    '170:244546091',\r\n    '9459055:926119462',\r\n    '147:965337627',\r\n    '147:965337627',\r\n    '15121203:896478942',\r\n    '15121320:928504940',\r\n    '9888234:892197707',\r\n    '87654833:919633535',\r\n    '170:928671407',\r\n    '146:965337627',\r\n    '9888423:906096574',\r\n    '9888423:906096574',\r\n    '87654833:919633535',\r\n    '230:926271983',\r\n    '87654936:962646164',\r\n    '9888542:926917433',\r\n    '355:892505114',\r\n    '336:964008800',\r\n    '336:964008800',\r\n    '9888525:965337627',\r\n    '15121076:915030500',\r\n    '87654939:928815105',\r\n    '682:908121780',\r\n    '15121320:962646164',\r\n    '195:962646164',\r\n    '8895167:928557571',\r\n    '9887452:965337627',\r\n    '15121301:962646164',\r\n    '325:928504940',\r\n    '8895362:926119462',\r\n    '15121320:962646164',\r\n    '541:909160646',\r\n    '568:909160646',\r\n    '87654491:9057765572',\r\n    '354:9250511492',\r\n    '15121045:9150305000',\r\n    '495:9264300299',\r\n    '9888549:9060965746',\r\n    '314:9640088004',\r\n    '513:9264300299',\r\n    '9887417:9250511492',\r\n    '496:9264300299',\r\n    '552:9640088084',\r\n    '9888542:9269174337',\r\n    '8765476:87654761',\r\n    '399:9803431231',\r\n    '107:9129762003',\r\n    '87654958:9851421603',\r\n    '9458936:9285551027',\r\n    '87654401:9626461645',\r\n    '497:9264300299',\r\n    '343:9288013005',\r\n    '889522:9289414041',\r\n    '109:9129762003',\r\n    '87654781:9207891111',\r\n    '400:9803431231',\r\n    '87654878:9285049405',\r\n    '15121205:9647894278',\r\n    '87654490:9057765572',\r\n    '9887645:9212056430',\r\n    '225:9260152710',\r\n    '9887454:9653376277'\r\n  ]\r\n\r\n  @statuses: [\r\n    'Статус=0 (Ожидание проведения)',\r\n    'Статус=7 (Платеж завершен)',\r\n    'Статус=1 (Платеж проводится)',\r\n    'Статус=100 (Платеж не проведен)',\r\n    'Статус=108 (Платеж проведен вручную)',\r\n    'Статус=120 (Платеж заблокирован при обработке)',\r\n    'Статус=112 (Платеж проведен оффлайн)',\r\n    'Статус=102 (Платеж отменен вручную)',\r\n    'Статус=103 (Запрос на ручную отмену платежа)'\r\n  ]\r\n  @errors: [\r\n    'Ошибка=3003 (Превышен дневной лимит)',\r\n    'Ошибка=1200200 (Откат транзакции)',\r\n    'Ошибка=1200500 (Откат транзакции)',\r\n    'Ошибка=1220110 (Оплата в пользу сервис-провайдера невозможна)',\r\n    'Ошибка=1220140 (Ошибочный номер абонента)',\r\n    'Ошибка=1220117 (Недостаточно средств на счету дилера для проведения этого платежа)',\r\n    'Ошибка=1200002 (Состояние платежа неизвестно, сбой при осуществлении платежа в биллинг провайдера (в последствии состояние будет изменено на проведен или на один из откатов))',\r\n    'Ошибка=53 (Точка заблокирована)',\r\n    'Ошибка=1220002 (Платеж в обработке)',\r\n    'Ошибка=1200300 (Недостаточно денег на счете дилера)',\r\n    'Ошибка=1220103 (Не найдена касса, соответствующая этому пользователю)',\r\n    'Ошибка=1220000 (Платеж в очереди)',\r\n    'Ошибка=2002 (Сетевая ошибка)'\r\n  ]\r\n\r\n  @init: () ->\r\n    @copyButton.addEventListener 'click', @copy\r\n    @clearButton.addEventListener 'click', @clear\r\n    @ticketEdit.addEventListener 'keyup', @editListener\r\n    return\r\n\r\n  @copy: () ->\r\n    App.ticketDone.select()\r\n    document.execCommand 'copy'\r\n    return\r\n\r\n  @clear: () ->\r\n    App.ticketEdit.value = '';\r\n    App.ticketDone.value = '';\r\n    App.changeOwner 'Нет'\r\n    App.changeStatus()\r\n    return\r\n\r\n  @changeStatus: (element) ->\r\n    if element is undefined\r\n      element = @manualStatus\r\n    @autoStatus.classList.remove 'active'\r\n    @manualStatus.classList.remove 'active'\r\n    element.classList.add 'active'\r\n    return\r\n\r\n  @changeOwner: (number) ->\r\n    @ownerStatus.innerHTML = number;\r\n    return\r\n\r\n  @manualMode: (value) ->\r\n    dateObj = new Date()\r\n    [terminal, date, amount, number, operator, comment] = value.split(\"\\n\");\r\n    @changeOwner(@getOwner(terminal.split(' ')[0]))\r\n    terminal = terminal.split(' ').join(' / ')\r\n    number = '' if number is undefined\r\n    operator = '' if operator is undefined\r\n    amount = '' if amount is undefined\r\n    number = number.split(' ').join(' / ')\r\n    operator = operator.split(' ').join(' / ')\r\n    amount = '' if amount is undefined\r\n    amount = (\"#{am}.00\" for am in amount.split(' '))\r\n    amount = amount.join(' / ')\r\n    date = '' if date is undefined\r\n    genDate = (date) ->\r\n      getDate = dateObj.getDate()\r\n      getMonth = dateObj.getMonth() + 1\r\n      getFullYear = dateObj.getFullYear()\r\n      getDate = \"0#{getDate}\" if getDate < 10\r\n      getMonth = \"0#{getMonth}\" if getMonth < 10\r\n      if date.indexOf('.') is -1\r\n        return date = \"#{getDate}.#{getMonth}.#{getFullYear} #{date}\"\r\n      else\r\n        return date\r\n    dates = (genDate da for da in date.split(' '))\r\n    dates = dates.join(' / ')\r\n    @ticketDone.value = @genTicket(terminal, dates, amount, number, operator, comment, -1, -1)\r\n    return\r\n\r\n  @autoMode: (value) ->\r\n    Array::unique = ->\r\n      output = {}\r\n      output[@[key]] = @[key] for key in [0...@length]\r\n      value for key, value of output\r\n    value = value.replace(/^\\s+|\\s+$/g, '');\r\n    terminal = []\r\n    date = []\r\n    amount = []\r\n    number = []\r\n    numberPattern = /\\d{6,}/\r\n    operator = []\r\n    error = ''\r\n    status = ''\r\n    for val in value.split(\"\\n\")\r\n      valuesArray = val.split ';'\r\n      terminal.push valuesArray[1]\r\n      date.push valuesArray[2]\r\n      amount.push valuesArray[6] + '.00'\r\n      number.push valuesArray[4].match numberPattern\r\n      operator.push valuesArray[5]\r\n      status = valuesArray[9]\r\n      error = valuesArray[10]\r\n    terminal = terminal.unique()\r\n    @changeOwner @getOwner(terminal[0])\r\n    date = date.unique()\r\n    number = number.unique()\r\n    operator = operator.unique()\r\n    terminal = terminal.join(' / ')\r\n    date = date.join(' / ')\r\n    amount = amount.join(' / ')\r\n    number = number.join(' / ')\r\n    operator = operator.join(' / ')\r\n    @ticketDone.value = @genTicket(terminal, date, amount, number, operator, '', status, error)\r\n    return\r\n\r\n  @getStatus: (val) ->\r\n    for status in @statuses\r\n      if status.indexOf(\"Статус=#{val}\") isnt -1\r\n        return status\r\n    return ''\r\n\r\n  @getError: (val) ->\r\n    for error in @errors\r\n      if error.indexOf(\"Ошибка=#{val}\") isnt -1\r\n        return error\r\n    return ''\r\n\r\n  @editListener: () ->\r\n    value = App.ticketEdit.value\r\n    if value.indexOf(';') isnt -1\r\n      App.changeStatus App.autoStatus\r\n      App.autoMode value\r\n    else\r\n      App.changeStatus App.manualStatus\r\n      App.manualMode value\r\n    return\r\n\r\n  @getOwner: (terminal) ->\r\n    for val in @owners\r\n      if val.split(':')[0] is terminal\r\n        return val.split(':')[1]\r\n    return 'Нет'\r\n\r\n  @genTicket: (terminal = '', date = '', amount = '', number = '', operator = '', comment = '', status, error) ->\r\n    status = @getStatus status\r\n    error = @getError error\r\n    return \"Терминал: #{terminal}\\nДата/время: #{date}\\nСумма: #{amount}\\nНомер счета/телефона: #{number}\\nВерный номер счета/телефона:\\nСервис/Оператор: #{operator}\\nВерный Сервис/Оператор:\\nКомментарий: #{comment}\\n#{status}\\n#{error}\"\r\n\r\nApp.init()"
  ]
}