{
  "version": 3,
  "file": "core.js",
  "sourceRoot": "",
  "sources": [
    "core.coffee"
  ],
  "names": [],
  "mappings": ";AAAA;AAAA,MAAA;;EAAM;IAAN,MAAA,IAAA;MAgBS,OAAN,IAAM,CAAA,CAAA;QACL,IAAC,CAAA,UAAU,CAAC,gBAAZ,CAA6B,OAA7B,EAAsC,IAAC,CAAA,IAAvC;QACA,IAAC,CAAA,WAAW,CAAC,gBAAb,CAA8B,OAA9B,EAAuC,IAAC,CAAA,KAAxC;QACA,IAAC,CAAA,UAAU,CAAC,gBAAZ,CAA6B,OAA7B,EAAsC,IAAC,CAAA,YAAvC;MAHK;;MAMA,OAAN,IAAM,CAAA,CAAA;QACL,GAAG,CAAC,UAAU,CAAC,MAAf,CAAA;QACA,QAAQ,CAAC,WAAT,CAAqB,MAArB;MAFK;;MAKC,OAAP,KAAO,CAAA,CAAA;QACN,GAAG,CAAC,UAAU,CAAC,KAAf,GAAuB;QACvB,GAAG,CAAC,UAAU,CAAC,KAAf,GAAuB;MAFjB;;MAKO,OAAd,YAAc,CAAC,OAAD,CAAA;QACb,OAAO,CAAC,GAAR,CAAY,OAAZ;QACA,IAAC,CAAA,UAAU,CAAC,SAAS,CAAC,MAAtB,CAA6B,QAA7B;QACA,IAAC,CAAA,YAAY,CAAC,SAAS,CAAC,MAAxB,CAA+B,QAA/B;QACA,OAAO,CAAC,SAAS,CAAC,GAAlB,CAAsB,QAAtB;MAJa;;MAOF,OAAZ,UAAY,CAAC,KAAD,CAAA;AACX,YAAA,MAAA,EAAA,OAAA,EAAA,IAAA,EAAA,OAAA,EAAA,OAAA,EAAA,WAAA,EAAA,QAAA,EAAA,MAAA,EAAA,QAAA,EAAA;QAAA,OAAA,GAAU,IAAI,IAAJ,CAAA;QACV,CAAC,QAAD,EAAW,IAAX,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,QAAjC,EAA2C,OAA3C,CAAA,GAAsD,KAAK,CAAC,KAAN,CAAY,IAAZ;QACtD,MAAA,IAAU;QACV,IAAa,IAAA,KAAQ,MAArB;UAAA,IAAA,GAAO,GAAP;;QACA,OAAA,GAAU,OAAO,CAAC,OAAR,CAAA;QACV,QAAA,GAAW,OAAO,CAAC,QAAR,CAAA,CAAA,GAAqB;QAChC,WAAA,GAAc,OAAO,CAAC,WAAR,CAAA;QACd,IAA2B,OAAA,GAAU,EAArC;UAAA,OAAA,GAAU,CAAA,CAAA,CAAA,CAAI,OAAJ,CAAA,EAAV;;QACA,IAA6B,QAAA,GAAW,EAAxC;UAAA,QAAA,GAAW,CAAA,CAAA,CAAA,CAAI,QAAJ,CAAA,EAAX;;QACA,IAAG,IAAI,CAAC,OAAL,CAAa,GAAb,CAAA,KAAqB,CAAC,CAAzB;UACE,IAAA,GAAO,CAAA,CAAA,CAAG,OAAH,CAAW,CAAX,CAAA,CAAc,QAAd,CAAuB,CAAvB,CAAA,CAA0B,WAA1B,EAAA,CAAA,CAAyC,IAAzC,CAAA,EADT;;QAEA,IAAC,CAAA,UAAU,CAAC,KAAZ,GAAoB,IAAC,CAAA,SAAD,CAAW,QAAX,EAAqB,IAArB,EAA2B,MAA3B,EAAmC,MAAnC,EAA2C,QAA3C,EAAqD,OAArD,EAA8D,CAAC,CAA/D,EAAkE,CAAC,CAAnE;MAZT;;MAeF,OAAV,QAAU,CAAC,KAAD,CAAA;AACT,YAAA,MAAA,EAAA,IAAA,EAAA,KAAA,EAAA,MAAA,EAAA,aAAA,EAAA,QAAA,EAAA,MAAA,EAAA,QAAA,EAAA;QAAA,WAAA,GAAc,KAAK,CAAC,KAAN,CAAY,GAAZ;QACd,QAAA,GAAW,WAAY,CAAA,CAAA;QACvB,IAAA,GAAO,WAAY,CAAA,CAAA;QACnB,MAAA,GAAS,WAAY,CAAA,CAAA,CAAZ,GAAiB;QAC1B,MAAA,GAAS,WAAY,CAAA,CAAA;QACrB,KAAA,GAAQ,WAAY,CAAA,EAAA;QACpB,MAAA,GAAS,WAAY,CAAA,CAAA;QACrB,aAAA,GAAgB;QAChB,MAAA,GAAS,MAAM,CAAC,KAAP,CAAa,aAAb;QACT,QAAA,GAAW,WAAY,CAAA,CAAA;QACvB,IAAC,CAAA,UAAU,CAAC,KAAZ,GAAoB,IAAC,CAAA,SAAD,CAAW,QAAX,EAAqB,IAArB,EAA2B,MAA3B,EAAmC,MAAnC,EAA2C,QAA3C,EAAqD,EAArD,EAAyD,MAAzD,EAAiE,KAAjE;MAXX;;MAcA,OAAV,QAAU,CAAC,GAAD,CAAA;AACT,YAAA,KAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA;AAAA;AAAA;QAAA,KAAA,qCAAA;;uBACK,CAAA,QAAA,CAAC,KAAD,CAAA;YACD,IAAG,KAAK,CAAC,OAAN,CAAc,GAAd,CAAA,KAAwB,CAAC,CAA5B;AACE,qBAAO,MADT;;UADC,CAAA,CAAH,CAAI,KAAJ;QADF,CAAA;;MADS;;MAOC,OAAX,SAAW,CAAC,GAAD,CAAA;AACV,YAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA;AAAA;AAAA;QAAA,KAAA,qCAAA;;uBACK,CAAA,QAAA,CAAC,MAAD,CAAA;YACD,IAAG,MAAM,CAAC,OAAP,CAAe,GAAf,CAAA,KAAyB,CAAC,CAA7B;AACE,qBAAO,OADT;;UADC,CAAA,CAAH,CAAI,MAAJ;QADF,CAAA;;MADU;;MAOG,OAAd,YAAc,CAAA,CAAA;AACb,YAAA;QAAA,KAAA,GAAQ,GAAG,CAAC,UAAU,CAAC;QACvB,IAAG,KAAK,CAAC,OAAN,CAAc,GAAd,CAAA,KAAwB,CAAC,CAA5B;UACE,GAAG,CAAC,YAAJ,CAAiB,GAAG,CAAC,UAArB;UACA,GAAG,CAAC,QAAJ,CAAa,KAAb,EAFF;SAAA,MAAA;UAIE,GAAG,CAAC,YAAJ,CAAiB,GAAG,CAAC,YAArB;UACA,GAAG,CAAC,UAAJ,CAAe,KAAf,EALF;;MAFa;;MAUH,OAAX,SAAW,CAAC,QAAD,EAAW,IAAX,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,QAAjC,EAA2C,OAA3C,EAAoD,MAApD,EAA4D,KAA5D,CAAA;AACV,eAAO,CAAA,UAAA,CAAA,CAAa,QAAb,CAAsB,cAAtB,CAAA,CAAsC,IAAtC,CAA2C,SAA3C,CAAA,CAAsD,MAAtD,CAA6D,wBAA7D,CAAA,CAAuF,MAAvF,CAA8F,iDAA9F,CAAA,CAAiJ,QAAjJ,CAA0J,wCAA1J,CAAA,CAAoM,OAApM,CAA4M,EAA5M,CAAA,CAAgN,IAAC,CAAA,SAAD,CAAW,MAAX,CAAhN,CAAkO,EAAlO,CAAA,CAAsO,IAAC,CAAA,QAAD,CAAU,KAAV,CAAtO,CAAA;MADG;;IA5Fd;;IAEE,GAAC,CAAA,UAAD,GAAa,QAAQ,CAAC,aAAT,CAAuB,aAAvB;;IACb,GAAC,CAAA,UAAD,GAAa,QAAQ,CAAC,aAAT,CAAuB,aAAvB;;IACb,GAAC,CAAA,UAAD,GAAa,QAAQ,CAAC,aAAT,CAAuB,aAAvB;;IACb,GAAC,CAAA,WAAD,GAAc,QAAQ,CAAC,aAAT,CAAuB,cAAvB;;IACd,GAAC,CAAA,UAAD,GAAa,QAAQ,CAAC,aAAT,CAAuB,aAAvB;;IACb,GAAC,CAAA,YAAD,GAAe,QAAQ,CAAC,aAAT,CAAuB,eAAvB;;IAEf,GAAC,CAAA,QAAD,GAAW,CACT,gDADS;;IAGX,GAAC,CAAA,MAAD,GAAS,CACP,sCADO;;;;;;EAmFX,GAAG,CAAC,IAAJ,CAAA;AA/FA",
  "sourcesContent": [
    "class App\r\n\r\n  @ticketEdit: document.querySelector '#ticketEdit'\r\n  @ticketDone: document.querySelector '#ticketDone'\r\n  @copyButton: document.querySelector '#copyButton'\r\n  @clearButton: document.querySelector '#clearButton'\r\n  @autoStatus: document.querySelector '#autoStatus'\r\n  @manualStatus: document.querySelector '#manualStatus'\r\n\r\n  @statuses: [\r\n    'Статус=120 (Платеж заблокирован при обработке)'\r\n  ]\r\n  @errors: [\r\n    'Ошибка=3003 (Превышен дневной лимит)'\r\n  ]\r\n\r\n  @init: () ->\r\n    @copyButton.addEventListener 'click', @copy\r\n    @clearButton.addEventListener 'click', @clear\r\n    @ticketEdit.addEventListener 'keyup', @editListener\r\n    return\r\n\r\n  @copy: () ->\r\n    App.ticketDone.select()\r\n    document.execCommand 'copy'\r\n    return\r\n\r\n  @clear: () ->\r\n    App.ticketEdit.value = '';\r\n    App.ticketDone.value = '';\r\n    return\r\n\r\n  @changeStatus: (element) ->\r\n    console.log element\r\n    @autoStatus.classList.remove 'active'\r\n    @manualStatus.classList.remove 'active'\r\n    element.classList.add 'active'\r\n    return\r\n\r\n  @manualMode: (value) ->\r\n    dateObj = new Date()\r\n    [terminal, date, amount, number, operator, comment] = value.split(\"\\n\");\r\n    amount += '.00'\r\n    date = '' if date is undefined\r\n    getDate = dateObj.getDate()\r\n    getMonth = dateObj.getMonth() + 1\r\n    getFullYear = dateObj.getFullYear()\r\n    getDate = \"0#{getDate}\" if getDate < 10\r\n    getMonth = \"0#{getMonth}\" if getMonth < 10\r\n    if date.indexOf('.') is -1\r\n      date = \"#{getDate}.#{getMonth}.#{getFullYear} #{date}\"\r\n    @ticketDone.value = @genTicket(terminal, date, amount, number, operator, comment, -1, -1)\r\n    return\r\n\r\n  @autoMode: (value) ->\r\n    valuesArray = value.split ';'\r\n    terminal = valuesArray[1]\r\n    date = valuesArray[2]\r\n    amount = valuesArray[6] + '.00'\r\n    number = valuesArray[4]\r\n    error = valuesArray[10]\r\n    status = valuesArray[9]\r\n    numberPattern = /\\d{5,}/\r\n    number = number.match numberPattern\r\n    operator = valuesArray[5]\r\n    @ticketDone.value = @genTicket(terminal, date, amount, number, operator, '', status, error)\r\n    return\r\n\r\n  @getError: (val) ->\r\n    for error in @errors\r\n      do (error) ->\r\n        if error.indexOf(val) isnt -1\r\n          return error\r\n        return\r\n\r\n  @getStatus: (val) ->\r\n    for status in @statuses\r\n      do (status) ->\r\n        if status.indexOf(val) isnt -1\r\n          return status\r\n        return\r\n\r\n  @editListener: () ->\r\n    value = App.ticketEdit.value\r\n    if value.indexOf(';') isnt -1\r\n      App.changeStatus App.autoStatus\r\n      App.autoMode value\r\n    else\r\n      App.changeStatus App.manualStatus\r\n      App.manualMode value\r\n    return\r\n\r\n  @genTicket: (terminal, date, amount, number, operator, comment, status, error) ->\r\n    return \"Терминал: #{terminal}\\nДата/время: #{date}\\nСумма: #{amount}\\nНомер счета/телефона: #{number}\\nВерный номер счета/телефона:\\nСервис/Оператор: #{operator}\\nВерный Сервис/Оператор:\\nКомментарий: #{comment}\\n#{@getStatus status}\\n#{@getError error}\"\r\n\r\nApp.init()"
  ]
}